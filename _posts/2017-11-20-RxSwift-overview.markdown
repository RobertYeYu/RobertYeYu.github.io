---
layout:     post
title:      "RxSwiftç®€ä»‹"
subtitle:   " \"åˆæ¢RxSwift\""
date:       2017-11-20 15:00:00
author:     "RobertYeYu"
header-img: "img/post-bg-2015.jpg"
tags:
    - RxSwift
    - è¯»ä¹¦ç¬”è®°
---

> â€œDon't worry, Be happy â€


## åºŸè¯
ç»ˆäºä¸‹å®šå†³å¿ƒå†™ä¸€äº›ä¸œè¥¿ï¼Œå› ä¸ºæœ€è¿‘æ€»æ„Ÿè§‰ï¼Œæœ‰ä¸€äº›ä¸œè¥¿å°±åœ¨å˜´è¾¹ï¼Œå´æ€ä¹ˆä¹Ÿæƒ³ä¸èµ·æ¥ã€‚æ‰€ä»¥è¿˜æ˜¯å¾—è®°ä¸‹æ¥ã€‚çƒ‚ç¬”å¤´å°±è¿™æ ·ç”¨èµ·æ¥å§ã€‚

## RxSwiftæ¦‚è§ˆ

> RxSwift is a library for composing asynchronous and event-based code by using observable sequences and functional style operators, allowing for parameterized execution via schedulers.

Whatï¼ï¼ï¼
æœ¬æ¥æˆ‘æƒ³ç¿»è¯‘ä¸€ä¸‹è¿™å¥å®˜æ–¹å®šä¹‰ï¼Œä½†è¿˜æ˜¯ç®—äº†ã€‚ä½†æ„¿æœ‰ä¸€å¤©æˆ‘èƒ½ä¿¡å¿ƒæ»¡æ»¡çš„æ¥ç¿»è¯‘è¿™ä¸€å¥è¯ã€‚ä½†æ˜¯ï¼Œè¿˜æ˜¯æœ‰å‡ ä¸ªç‚¹å€¼å¾—ä¸€çœ‹ã€‚

- asynchronous å¼‚æ­¥
- event-based	 åŸºäºäº‹ä»¶
- observable sequences è¿™ä¸ªæ€ä¹ˆè¯´å‘¢ï¼Œåæ­£ä¸€åˆ‡éƒ½æ˜¯sequences
- functional å‡½æ•°å¼çš„

æ˜¯ä¸æ˜¯å¾ˆfashionï¼Œå‡ ä¹æ¯ä¸ªç‚¹éƒ½æ˜¯å½“ä¸‹æµè¡Œçš„ä¸€æœ¬ä¹¦äº†

## å¼‚æ­¥
åœ¨appä¸­ï¼Œåœ¨ä»»ä¸€æ—¶åˆ»å¾ˆå¤šäº‹æƒ…ä¼šåŒæ—¶å‘ç”Ÿï¼Œä¸‹è½½æ–‡ä»¶ï¼Œåˆ·æ–°ç•Œé¢ï¼Œå‘ç£ç›˜å†™å…¥ï¼Œç­‰ç­‰...
Cocoaå’ŒUIKitä¸­æœ‰å¾ˆå¤šå¼‚æ­¥API:

- NotificationCenter: é€šçŸ¥
- The delegate pattern: ä»£ç†æ¨¡å¼åŸºæœ¬æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„ä¸€ç§æ•°æ®å›ä¼ æ–¹å¼
- Grand Central Dispatch: GCDå¯ä»¥å¸®åŠ©æˆ‘ä»¬æŠŠä¸šåŠ¡é€»è¾‘æŠ½è±¡å‡ºæ¥ã€‚å¯ä»¥æŠŠå°†è¿™äº›ä»£ç é¡ºåºæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§ä¼˜å…ˆçº§åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¸Šå¹¶è¡Œæ‰§è¡Œ
- Closures: é—­åŒ…å¯ä»¥è®©ä½ æŠŠä¸€æ®µä»£ç å’Œä¸Šä¸‹æ–‡çš„å‚æ•°ä¼ é€’ç»™åˆ«çš„ç±»ï¼Œé‚£æ ·ï¼Œæ¥æ”¶åˆ°é—­åŒ…çš„ç±»å°±å¯ä»¥å†³å®šæ˜¯å¦è¦æ‰§è¡Œè¿™ä¸€æ®µä»£ç ï¼Œæ‰§è¡Œå¤šå°‘æ¬¡ä»¥åŠåœ¨ç‰¹å®šä¸Šä¸‹æ–‡ä¸‹æ‰§è¡Œ

å¼‚æ­¥æ‰€é€ æˆçš„é—®é¢˜å°±æ˜¯ï¼Œæ•°æ®ä¼šè¢«å¾ˆå¤šæºæ“ä½œã€‚æ¯”å¦‚ä½ å¾ªç¯æ‰“å°ä¸€ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œé‚£ä½ æ‰“å°å‡ºæ¥çš„arrayä¸€å®šæ˜¯ä½ ä¼ å…¥çš„arrayï¼Œé‚£å¦‚æœæˆ‘æ¯ç‚¹å‡»ä¸€ä¸‹æŒ‰é’®æ‰“å°ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä½ ç‚¹ç¬¬äº”ä¸‹çš„æ—¶å€™ï¼Œå¯èƒ½æ•°ç»„çš„ç¬¬äº”ä¸ªå…ƒç´ éƒ½è¢«æ›¿æ¢ç”šè‡³åˆ é™¤äº†ã€‚

å¦å¤–ï¼ŒUIçš„åˆ·æ–°å¿…é¡»åœ¨ä¸»çº¿ç¨‹ä¸Šï¼Œæˆ‘ä»¬å¾ˆå¤šæ—¶å€™ä¼šå¿½ç•¥è¿™ä¸ªé—®é¢˜ï¼Œæœ‰çš„æ—¶å€™tableViewåˆ·æ–°ï¼Œæ§ä»¶çš„ä½ç½®é”™ä¹±ï¼Œå°±è¦çœ‹çœ‹æ˜¯ä¸æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„åˆ·æ–°æ–¹æ³•äº†ã€‚

## å¼‚æ­¥æœ¯è¯­
### 1. State, and specifically, shared mutable state
Stateç›´ç™½æ¥çœ‹å°±æ˜¯çŠ¶æ€ã€‚å°±åƒä½ çš„ç”µè„‘ï¼Œä¹Ÿè®¸åˆšæ‰“å¼€çš„æ—¶å€™å¾ˆå¥½ç”¨ï¼Œç„¶è€Œå¼€äº†ä¸¤ä¸‰å¤©ä¹‹åå°±å¡äº†ã€‚ä½†æ˜¯ç¡¬ä»¶è¿˜æ˜¯é‚£æ ·ï¼Œè½¯ä»¶ä»£ç ä¹Ÿæ²¡æœ‰å˜ï¼Œå‘ç”Ÿå˜åŒ–äº†çš„å°±æ˜¯Stateã€‚

åœ¨å†…å­˜å’Œç¡¬ç›˜ä¸­çš„æ•°æ®ï¼Œå¯¹ç”¨æˆ·è¾“å…¥çš„åé¦ˆï¼Œä»æœåŠ¡å™¨ä¸‹è½½å†…å®¹ç•™å­˜ä¸‹çš„ç—•è¿¹--æ‰€æœ‰çš„è¿™äº›å°±ç»„æˆäº†ç”µè„‘çš„Stateã€‚

å¤„ç†æˆ‘ä»¬appçš„Stateï¼Œç‰¹åˆ«æ˜¯é‚£äº›å½“éœ€è¦åœ¨å¤šä¸ªå¼‚æ­¥ç»„ä»¶ä¸­å…±äº«çš„æ—¶å€™ï¼ŒRxSwiftçš„ä»·å€¼å°±ä½“ç°å‡ºæ¥äº†ã€‚

### 2. Imperative programming
å‘½ä»¤å¼ç¼–ç¨‹
```
override func viewDidAppear(_ animated: Bool) {
	super.viewDidAppear(animated)
	setupUI() 
	connectUIControls()
	createDataSource() 
	listenForChanges()
}
```

å…¸å‹çš„å‘½ä»¤å¼ç¼–ç¨‹ï¼Œåœ¨æˆ‘çš„ä»£ç é‡Œå‡ ä¹éšå¤„å¯è§ï¼Œè¿™ç§æ–¹å¼ä»ä»£ç ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬æ ¹æœ¬ä¸çŸ¥é“ä»–åšäº†ä»€ä¹ˆã€‚æ˜¯å¦æ›´æ–°äº†ViewControllerçš„å±æ€§ï¼Ÿæœ€å…³é”®æ˜¯é—®é¢˜æ˜¯ï¼Œä»£ç æ˜¯ä¸æ˜¯å¿…é¡»æŒ‰ç…§è¿™ä¸ªé¡ºåºæ‰§è¡Œï¼Ÿé‚£å¦‚æœæˆ‘ä»¬è¦æ›´æ¢å…¶ä¸­ä¸¤ä¸ªæ–¹æ³•çš„ä½ç½®ï¼Œç»“æœä¼šç›¸åŒä¹ˆï¼Ÿå¦‚æœå’Œä½ æ­æ¡£çš„å¼€å‘åŒå­¦è¦åœ¨å¦ä¸€ä¸ªViewControllerä¸­ç”¨è¿™å…¶ä¸­çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œä½ å¯¹å…¶æ²¡æœ‰ä»»ä½•çº¦æŸå’ŒæŒ‡å¯¼ï¼Œç”šè‡³è¿ä¿¡æ¯éƒ½ä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œè°¨æ…èµ·è§ï¼Œå°±ä¸€å®šè¦çœ‹é‡Œé¢çš„å®ç°ã€‚

### 3. Side effects
> Side effects are any change to the state outside of the current scope.

å¾ˆç®€å•ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå°±åƒä¹‹å‰çš„ä»£ç ï¼ŒconnectUIControlsï¼Œçœ‹è¿™ä¸ªæ–¹æ³•åº”è¯¥æ˜¯åˆ·æ–°äº†UIç•Œé¢ï¼Œè¿™å°±æ˜¯è¿™ä¸€è¡Œä»£ç çš„side effectsã€‚æ”¹å˜å†…å­˜ä¸­çš„æ•°æ®ï¼Œåˆ·æ–°ç•Œé¢ä¸Šçš„labelï¼Œè¿™äº›éƒ½æ˜¯side effectsã€‚æˆ‘ä»¬çš„ä»£ç å°±æ˜¯è¦æ¥åˆ¶é€ è¿™äº›side effectsçš„ï¼Œæ‰€ä»¥ï¼Œå…³é”®åœ¨äºæ€ä¹ˆèƒ½ä¿è¯è¿™äº›side effectsæ˜¯å¯æ§åˆ¶çš„ã€‚é€ æˆçš„è¿™äº›å½±å“ï¼Œéƒ½å‡ºäºä½ çš„æœ¬æ„ã€‚

RxSwiftè¢«è®¾è®¡æ¥æ‰§è¡Œè¿™æ ·çš„äº‹æƒ…

### 4. Declarative code
> Declarative code lets you define pieces of behavior, and RxSwift will run these behaviors any time thereâ€™s a relevant event and provide them an immutable, isolated data input to work with.

å£°æ˜å¼çš„ä»£ç å¯ä»¥å®šä¹‰ä¸€ç§è¡Œä¸º(behavior)ï¼Œåªæœ‰æœ‰ç›¸å…³çš„äº‹ä»¶å‘ç”Ÿï¼ŒRxSwiftå°±ä¼šæ¥å—ä¸€ç»„ä¸å¯å˜ä¸”éš”ç¦»çš„æ•°æ®ï¼Œæ¥è¿è¡Œè¿™ä¸€æ®µä»£ç ã€‚

è¿™ç§æ•°æ®å½¢å¼ä½¿å¾—åœ¨å¹¶è¡Œç¯å¢ƒä¸‹ï¼Œæ•°æ®ä¸ä¼šç›¸äº’å½±å“ï¼Œè®¾è®¡é€»è¾‘çš„æ—¶å€™å°±å¯ä»¥ç®€å•å¤„ç†ï¼Œåœ¨æŸä»£ç å—ä¸­ï¼Œä»£ç ä¹Ÿä¼šé¡ºåºæ‰§è¡Œã€‚

- immutable
- isolated

### 5. Reactive systems
Reactive systemsæˆ‘ä»¬ä¸€èˆ¬ç¿»è¯‘æˆå“åº”å¼ç³»ç»Ÿï¼Œç‰¹åˆ«æŠ½è±¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§ç‰¹å¾

- Responsive: æ€»æ˜¯è®©UIä¿æŒä¸æ•°æ®åŒæ­¥ï¼Œåæ˜ Appçš„æœ€æ–°çŠ¶æ€
- Resilient: å­—é¢æ„æ€æ˜¯æœ‰å¤åŸèƒ½åŠ›çš„ã€‚ä¹Ÿå°±æ˜¯è¯´æ¯ä¸€æ®µæè¿°è¡Œä¸ºçš„ä¸šåŠ¡ä»£ç (Behavior)éƒ½æ˜¯ç›¸äº’éš”ç¦»å¹¶ä¸”å¯ä»¥ä»é”™è¯¯ä¸­æ¢å¤å¹¶ç»§ç»­æ‰§è¡Œã€‚
- Elastic: æœ‰å¼¹æ€§ï¼Œå¯ä¼¸ç¼©ã€‚å°±æ˜¯è¯´ä¸€ä¸²é“¾å¼è°ƒç”¨çš„ä»£ç å¤„ç†äº†å·¥ä½œæµä¸Šçš„å¾ˆå¤šéƒ¨åˆ†ï¼Œæ¯”å¦‚æ‹‰å–æ•°æ®ï¼Œå¤„ç†æ•°æ®ï¼Œæ§åˆ¶äº‹ä»¶ç­‰ç­‰ã€‚æ¯”å¦‚Worker.loadData.map.delay.shareTo.work
- Message driven: ç»„ä»¶ä¹‹é—´é€šè¿‡æ¶ˆæ¯æœºåˆ¶æ¥ä¼ é€’ä¿¡æ¯ï¼Œä»¥æé«˜éš”ç¦»æ€§å’Œå¯é‡ç”¨æ€§ï¼Œä»ç”Ÿå‘½å‘¨æœŸå’Œå…·ä½“çš„ç±»å®ç°ä¸­è§£è€¦ï¼ˆTODO: å…·ä½“æ€ä¹ˆè®²å‘¢ï¼‰

## RxSwiftçš„ç»„æˆåŸºç¡€
å“åº”æ€§ç¼–ç¨‹å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µå·²ç»å­˜åœ¨äº†å¾ˆé•¿æ—¶é—´äº†ã€‚ä½†æ˜¯ä»–çš„æ ¸å¿ƒæ€æƒ³åœ¨æœ€è¿‘åå¹´åˆæµè¡Œèµ·æ¥ã€‚è¿˜æœ‰ä¸€å¤§æ®µå†å²ï¼Œå§‹äºå¾®è½¯Rx.NETï¼Œç„¶åå‘å±•å‡ºäº†RxJSï¼ŒRxKotlinï¼ŒRxScalaä»¥åŠæˆ‘ä»¬è®¨è®ºçš„RxSwiftã€‚

> RxSwift finds the sweet spot between traditionally imperative Cocoa code and purist functional code. It allows you to react to events by using immutable code definitions to process asynchronously pieces of input in a deterministic, composable way.

RxSwiftæœ‰ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼Œ**observables**ï¼Œ**operators**ä»¥åŠ**schedulers**ã€‚

### Observables
Observable<T>è¿™ä¸ªç±»ç»™Rxæä¾›äº†åŸºç¡€åŠŸèƒ½ï¼Œå¯ä»¥å¼‚æ­¥äº§ç”Ÿä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œæºå¸¦ç€Tç±»å‹æ•°æ®çš„ä¸€ä»½å¿«ç…§(*â€œcarryâ€ an immutable snapshot of data T*)ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯è®©ä¸€ä¸ªç±»å¯ä»¥è®¢é˜…å¦ä¸€ä¸ªç±»å‘å°„å‡ºæ¥çš„æ•°æ®ã€‚

Observable<T>å¯ä»¥è®©å¤šä¸ªè§‚å¯Ÿè€…å®æ—¶è®¢é˜…åˆ°äº‹ä»¶ä»¥æ›´æ–°UIç•Œé¢ã€‚

ObservableType ***protocol*** (to which the Observable<T> conforms)éå¸¸ç®€å•ã€‚Observableä»…ä»…å¯ä»¥å‘å°„ä¸‰ç§eventï¼Œå½“ç„¶observersä¹Ÿä»…ä»…å¯ä»¥æ”¶åˆ°è¿™ä¸‰ç§event

- **A *next* event:** è¿™ä¸ªäº‹ä»¶å¸¦ç€æœ€æ–°çš„æ•°æ®ã€‚ä¹Ÿå°±æ˜¯è¿™äº›è§‚å¯Ÿè€…ï¼ˆobserversï¼‰å¯ä»¥æ”¶åˆ°çš„å€¼
- **A *completed* event:** è¿™ä¸ªäº‹ä»¶ä¼šç»“æŸäº‹ä»¶é˜Ÿåˆ—ï¼Œå¹¶ä¸”ä»£è¡¨æˆåŠŸç»“æŸã€‚è¿™æ„å‘³ç€Observableæ­£å¸¸é€€å‡ºç”Ÿå‘½å‘¨æœŸå¹¶ä¸”ä¸ä¼šå†å‘å°„ä»»ä½•å…¶ä»–çš„äº‹ä»¶äº†ã€‚
- **An *error* event:** åŒæ ·ä¼šç»“æŸé˜Ÿåˆ—ï¼Œåªä¸è¿‡æ˜¯å¼‚å¸¸é€€å‡ºï¼Œä¹Ÿä¸ä¼šå†å‘é€äº‹ä»¶äº†ã€‚

observable sequencesæœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æœ‰é™çš„ã€‚æ¯”å¦‚ä¸‹è½½æ–‡ä»¶ï¼Œä¸‹è½½è¿™ç§åŠ¨ä½œæ€»å½’ä¼šåœæ­¢ï¼ŒæˆåŠŸæˆ–è€…å¤±è´¥ï¼Œå°±ç®—æ˜¯æ²¡æœ‰å“åº”ä¹Ÿåº”è¯¥ä¼šè¶…æ—¶ã€‚è€Œå¦å¤–ä¸€äº›è§‚å¯Ÿé˜Ÿåˆ—ï¼Œä¸åƒä¸‹è½½è¿™ç§ä¼šè‡ªç„¶çš„æˆ–è€…å¼ºåˆ¶çš„é€€å‡ºï¼Œè¿™äº›é˜Ÿåˆ—ä¼šä¸€ç›´ç›‘å¬ï¼Œæ¯”å¦‚è®¾å¤‡æ˜¯æ¨ªå±è¿˜æ˜¯ç«–å±ï¼Œå½“æˆ‘ä»¬è®¢é˜…äº†è¿™ä¸ªDevice.Observableçš„è¿™ä¸ªäº‹ä»¶ä¹‹åï¼Œæ¯å½“æˆ‘ä»¬æ—‹è½¬å±å¹•çš„æ—¶å€™ï¼Œéƒ½ä¼šå—åˆ°next eventï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šæœ‰*completed*æˆ–è€…*error*ã€‚

### Operators
*ObservableType*å’Œ*Observable*ç±»çš„å®ç°ï¼ŒåŒ…å«äº†å¾ˆå¤šå°†å¼‚æ­¥å·¥ä½œåˆ†ç¦»æˆä¸€ç‰‡ç‰‡çš„æ–¹æ³•ï¼Œç„¶åé€šè¿‡ç»„åˆè¿™äº›æ–¹æ³•æ¥å®Œæˆä¸€ä¸ªå¤æ‚é€»è¾‘ã€‚å› ä¸ºè¿™äº›*Operator*ç»å¤§éƒ¨åˆ†éƒ½ä¸äº§ç”Ÿ*side effects*ï¼Œæ‰€ä»¥ä»–ä»¬å¯ä»¥å¾ˆå®¹æ˜“æ‹¼æ¥åœ¨ä¸€èµ·ã€‚

å°±åƒï¼ˆ1 + 2ï¼‰* 3 - 20ä¸€æ ·ï¼Œä½ å¯ä»¥é€šè¿‡ç»„åˆæ“ä½œç¬¦æ¥å®Œæˆæ›´åŠ å¤æ‚çš„è¿ç®—ã€‚
```
UIDevice.rx.orientation
  .filter { value in 
    return value != .landscape 
  }
  .map { _ in
    return "Portrait is the best!" 
  } 
  .subscribe(onNext: { string in
    showAlert(text: string) 
  })
```

*operators*é«˜åº¦ç»„ä»¶åŒ–ï¼ˆcomposableï¼Œå¯ä»¥ç»„åˆï¼‰ï¼Œæ€»æ˜¯æ¥å—è¾“å…¥ï¼Œå¤„ç†åè¾“å‡ºï¼Œæ‰€ä»¥ä½ å¯ä»¥ç®€å•çš„æŠŠå®ƒä»¬é“¾åœ¨ä¸€èµ·ã€‚è¿™ç§é“¾å¼ç¼–ç¨‹è¡¨æ„æ˜ç¡®ï¼Œå¹¶ä¸”é€šè¿‡ç»„åˆä¸åŒçš„*operators*ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°éå¸¸å¤šåŠŸèƒ½ã€‚ï¼ˆVery HandyğŸ¤—ï¼‰

### Schedulers
Schedulerså°±æ˜¯Rxé‡Œé¢çš„**dispatch queues**ï¼Œæ›´å¼ºåŠ›ï¼Œå¹¶ä¸”ç”¨èµ·æ¥æ›´ç®€å•ã€‚åŸºç¡€ç”¨æ³•ï¼Œæ¯”å¦‚ç›‘å¬æ•°æ®å˜åŒ–ï¼Œæ›´æ–°UIå…¶å®éƒ½ä¸ä¼šè¿‡å¤šçš„æ¥è§¦åˆ°Schedulerï¼Œè¿™ä¹Ÿè¡¨æ˜Schedulersä¸ºé«˜é˜¶ç”¨æ³•ï¼Œæ¯”è¾ƒå¼ºå¤§ã€‚

æ¯”å¦‚ä½ å¯ä»¥æŒ‡å®šï¼Œåœ¨ä¸€ä¸ª**SerialDispatchQueueScheduler**ä¸Šç›‘å¬*next*äº‹ä»¶ï¼Œè¿™ä¼šä½¿ç”¨**Grand Central Dispatch**å»é¡ºåºæ‰§è¡Œä½ ç»™å®šçš„é˜Ÿåˆ—ã€‚**ConcurrentDispatchQueueScheduler**æ˜¯å¹¶è¡Œé˜Ÿåˆ—ï¼Œ**OperationQueueScheduler**å¯ä»¥è®©ä½ æŒ‡å®šé˜Ÿåˆ—ã€‚

> Thanks to RxSwift, you can schedule the different pieces of work of the same subscription on different schedulers to achieve the best performance.

RxSwiftå¯ä»¥åœ¨**subscriptions**å’Œ**schedulers**ç›´æ¥æ‰®æ¼”ä¸­é—´åˆ†é…å™¨çš„è§’è‰²(**dispatcher**)ï¼Œå°†ä»»åŠ¡åˆ†é…åˆ°æ­£ç¡®çš„ç¯å¢ƒä¸­å¹¶ä¸”æ— ç¼é…åˆèµ·æ¥ã€‚

![java-javascript](/img/in-post/post-RxSwift/RxSwift_01.png)


## App architecture
RxSwiftå¹¶ä¸ä¼šå½±å“ä½ çš„æ¶æ„ï¼Œä»–å¤§å¤šæ•°æƒ…å†µä¸‹åªæ˜¯å¤„ç†äº‹ä»¶(**event**)ï¼Œå¼‚æ­¥æ•°æ®é˜Ÿåˆ—(**asynchronous data sequences**)ï¼Œä»¥åŠå…¨å±€çš„é€šä¿¡é“¾æ¥(**universal communication contract**)ã€‚ä½ å¯ä»¥ä»»æ„é€‰æ‹©MVCï¼ŒMVPï¼ŒMVVMã€‚

å¹¶ä¸”RxSwiftå¹¶ä¸éœ€è¦é¡¶å±‚è®¾è®¡ï¼Œåœ¨ä½ é‡åˆ°éœ€è¦çš„åœºæ™¯æ—¶ï¼Œç”¨Rxçš„æ–¹æ³•å¤„ç†ä¸šåŠ¡é€»è¾‘å°±è¡Œï¼Œæ‰€ä»¥æ˜¯æ¸è¿›çš„ã€‚

è™½ç„¶å¹¶ä¸ç»‘å®šæ¶æ„ï¼Œä½†æ˜¯å¾®è½¯è®¾è®¡çš„MVVMæ¶æ„ä¸“é—¨ä¸ºæ•°æ®é©±åŠ¨çš„è½¯ä»¶å†™æ³•æä¾›æ•°æ®ç»‘å®šã€‚RxSwiftå’ŒMVVMåœ¨ä¸€èµ·å¯ä»¥é…åˆçš„å¾ˆå¥½ã€‚ä¹‹æ‰€ä»¥é…åˆæ¯”è¾ƒå¥½ï¼Œæ˜¯å› ä¸ºViewModelå…è®¸ä½ æš´éœ²Observable<T>çš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç”¨èƒ¶æ°´ä»£ç åœ¨View Controllerä¸­ç›´æ¥ç»‘å®šåˆ°UIæ§ä»¶ä¸Šã€‚

![java-javascript](/img/in-post/post-RxSwift/RxSwift_02.png)

## RxCocoaå’ŒCommunity
RxCocoaç»™å¾ˆå¤šUIæ§ä»¶æ·»åŠ äº†reactiveæ‰©å±•ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è®¢é˜…å¾ˆå¤šUIäº‹ä»¶äº†ã€‚

Communityå°±æ˜¯ç¤¾åŒºï¼Œæœ‰å¾ˆå¤šæ‰©å±•çš„ä»£ç å’ŒReactæ§ä»¶ï¼Œæ–¹ä¾¿å¥½ç”¨[RxSwift Community Projects](http://community.rxswift.org)









 	


